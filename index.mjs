// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-normal-quantile@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-chisquare-cdf@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-group@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-ranks@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-index-of@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import{isPrimitive as j}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as v}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@esm/index.mjs";function w(s,t){return s-t}function x(s){var t,e,i,r=s.length;if(!r)return null;for(e=[],i=0;i<r;i++)e.push(s[i]);return e.sort(w),t=h(r/2),r%2?e[t]:(e[t-1]+e[t])/2}function y(s,e){return t(e)?g(e,"alpha")&&(s.alpha=e.alpha,!j(s.alpha)||c(s.alpha))?new TypeError(m("0dQ8h","alpha",s.alpha)):g(e,"groups")&&(s.groups=e.groups,!f(s.groups))?new TypeError(m("0dQ8t","groups",s.groups)):null:new TypeError(m("0dQ2h",e))}function E(s){var e,i,r;if(i=4,e=!0,arguments.length>0){if(!t(s))throw new TypeError(m("0dQ3X",s));if(g(s,"digits")){if(!u(s.digits))throw new TypeError(m("0dQ3b","digits",s.digits));i=s.digits}if(g(s,"decision")){if(!v(s.decision))throw new TypeError(m("0dQ30","decision",s.decision));e=s.decision}}return r="",r+=this.method,r+="\n\n",r+="Null hypothesis: The variances in all groups are the same.",r+="\n\n",r+="    pValue: "+b(this.pValue,-i)+"\n",r+="    statistic: "+b(this.statistic,-i)+"\n",r+="    df: "+b(this.df,-i),r+="\n\n",e&&(r+="Test Decision: ",this.rejected?r+="Reject null in favor of alternative at "+100*this.alpha+"% significance level":r+="Fail to reject null in favor of alternative at "+100*this.alpha+"% significance level",r+="\n"),r}function T(s,t){var e,i=new Array(t);for(e=0;e<t;e++)i[e]=s;return i}function Q(){var h,f,j,c,g,u,v,b,w,Q,q,A,V,k,F,O,R,D,K,N,P,X,z,B,C,G;if(Q=[],A={},t(arguments[(j=arguments.length)-1])&&(f=arguments[j-1],j-=1,R=y(A,f)))throw R;if(A.groups){if(g=A.groups,v=o(arguments[0],g),(j=(c=i(v)).length)<2)throw new Error(m("invalid option. `%s` option must be an array containing at least two unique elements. Option: `%s`.","groups",c));for(C=0;C<j;C++)Q.push(v[c[C]])}else for(g=[],C=0;C<j;C++)Q.push(arguments[C]),g=g.concat(T(C,arguments[C].length));if((b=void 0===A.alpha?.05:A.alpha)<0||b>1)throw new RangeError(m("invalid option. `%s` option must be a number on the interval: [0, 1]. Option: `%f`.","alpha",b));for(B=[],C=0;C<j;C++){if(!s(Q[C]))throw new TypeError(m("0dQ8q",Q[C]));if(0===Q[C].length)throw new Error(m("0dQ8r",Q[C]));for(D=x(Q[C]),G=0;G<Q[C].length;G++)Q[C][G]-=D;B=B.concat(Q[C])}for(z=B.length,F=new Array(z),C=0;C<z;C++)F[C]=l(B[C]);for(u=d(F),X=new Array(z),q=0,P=0,k=T(0,j),C=0;C<z;C++)X[C]=r((1+u[C]/(z+1))/2,0,1),k[c?p(c,g[C]):g[C]]+=X[C],q+=(w=X[C]-q)/(C+1),P+=w*(X[C]-q);for(h=P/(z-1),O=0,C=0;C<j;C++)O+=a(k[C],2)/Q[C].length;return O=(O-z*a(q,2))/h,V=1-n(O,N=j-1),e(K={},"rejected",V<=b),e(K,"alpha",b),e(K,"pValue",V),e(K,"statistic",O),e(K,"df",N),e(K,"method","Fligner-Killeen test of homogeneity of variances"),e(K,"print",E),K}export{Q as default};
//# sourceMappingURL=index.mjs.map
